import { View, Text, SafeAreaView, StyleSheet, Button, Image } from 'react-native'
import { Configuration, PESDK, Tool } from "react-native-photoeditorsdk";
import { useCameraDevice, useCameraPermission, Camera } from 'react-native-vision-camera'
import React, { useEffect, useRef, useState } from 'react'
import { useImage } from "@shopify/react-native-skia";
import { Skia } from "@shopify/react-native-skia";
import {
  Gesture,
  GestureDetector,
  GestureHandlerRootView,
} from "react-native-gesture-handler";

import { Canvas, Path, useCanvasRef, Picture } from "@shopify/react-native-skia";

import camerabtn from '../assets/camerabtn.png'

import { runOnJS } from 'react-native-reanimated';

// yarn ios--simulator "iPhone 15 Pro"
export default function CameraPage() {
  const [paths, setPaths] = useState([]);
  const canvasRef = useCanvasRef();


  const camera = useRef(null);
  const [cameraOpen, setCameraOpen] = useState(true);
  const [image, setImage] = useState(null);
  const data = Skia.Data.fromBase64("iVBORw0KGgoAAAANSUhEUgAABJsAAAZ1CAYAAACKJtXGAAAABHNCSVQICAgIfAhkiAAAIABJREFUeJzs3X+s3Xd93/HXJ66ZEya38cCpPDFuljgigw3kRAWnLaRaJFDUrGtJGxIordoOGPMGLSwLFMIaNhUIrbIfJQipZQzUlY6JFlA3pkxECMWVWDKJNgojieyoClrSzJ08xY24xO/9keMp5B4n/nHPeZ97zuMhff+Kfe/zfh3Fue/7/n6+CQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgJupCo7o5fq7CAAAAAElFTkSuQmCC");
  const testImg = Skia.Image.MakeImageFromEncoded(data);
  const loadedImage = useImage(image);
  const device = useCameraDevice('back')
  const { hasPermission, requestPermission } = useCameraPermission()

  const saveMarkedUpImage = async () => {
    console.log("sup")
    const image = await canvasRef.current.makeImageSnapshotAsync();
    const bytes = image.encodeToBase64();
    console.log(bytes)

  };

  const [tGestureStart, setTGestureStart] = useState(null);
  const [tGestureMove, setTGestureMove] = useState(null);
  const [tGestureUpdate, setTGestureUpdate] = useState(null);
  const [tGestureEnd, setTGestureEnd] = useState(null);

  const pan = Gesture.Pan()
    .onStart((g) => {
      const newPaths = [...paths];
      newPaths[paths.length] = {
        segments: [],
        color: "yellow",
      };
      newPaths[paths.length].segments.push(`M ${g.x} ${g.y}`);
      runOnJS(setPaths)(newPaths);
      runOnJS(setTGestureStart)(`${Math.round(g.x)}, ${Math.round(g.y)}`);
    })
    .onUpdate((g) => {
      const index = paths.length - 1;
      const newPaths = [...paths];
      if (newPaths?.[index]?.segments) {
        newPaths[index].segments.push(`L ${g.x} ${g.y}`);
        runOnJS(setPaths)(newPaths);
      }
    }).minDistance(1)
  useEffect(() => {
    if (!hasPermission)
      requestPermission()

  }, [])


  if (hasPermission)
    return (
      <SafeAreaView style={styles.backgroundContainer}>
        {cameraOpen ?
          <>
            <Camera
              ref={camera}
              style={StyleSheet.absoluteFill}
              device={device}
              isActive={true}
              photo={true}
            >
            </Camera>
            <View style={{ flex: 1, }}>
              <Image source={camerabtn} style={{ height: 100, width: 100 }} />
            </View>
          </>
          :
          <GestureHandlerRootView style={{ flex: 1 }}>
            <GestureDetector gesture={pan}>
              <View style={styles.drawingContainer}>
                {/* <Image source={{
                  uri: image,
                }} style={styles.image} /> */}

                <Canvas style={styles.canvas} ref={canvasRef}>
                  {testImg ?
                    <Picture image={testImg} fit="cover" x={0} y={0} width={300} height={500} />
                    : <></>}
                  {paths.map((p, index) => (
                    <Path
                      key={index}
                      path={p.segments.join(" ")}
                      strokeWidth={30}
                      style="stroke"
                      color={p.color}

                    />

                  ))}

                  {/* <Picture image={loadedImage}></Picture> */}
                </Canvas>
                {/* {loadedImage ? <Text>stuff {String(loadedImage)}</Text> : <Text>Idk error i guess</Text>} */}
              </View>

            </GestureDetector>
            <Text
              style={{ color: "white", fontSize: 24 }}
            >{`Gesture started at:  ${tGestureStart}`}</Text>
            <Text
              style={{ color: "white", fontSize: 24 }}
            >{`Gesture moved to:  ${tGestureMove}`}</Text>
            <Text
              style={{ color: "white", fontSize: 24 }}
            >{`Gesture updated to:  ${tGestureUpdate}`}</Text>
            <Text
              style={{ color: "white", fontSize: 24 }}
            >{`Gesture ended at:  ${tGestureEnd}`}</Text>
          </GestureHandlerRootView>
        }
        <Button title="save thing" onPress={saveMarkedUpImage}>

        </Button>
        <Button style={styles.clearBtn} title="Clear" onPress={() => {
          setPaths([]);
          console.log(loadedImage)
        }}>
        </Button>
        <Button title="sup" onPress={async () => {
          setCameraOpen(true)
          const photo = await camera.current.takePhoto();
          console.log(photo.path)
          setCameraOpen(false)
          setImage(photo.path)
          // highlightPhoto(photo.path)
        }}></Button>
      </SafeAreaView >

    )
}

const styles = StyleSheet.create({
  clearBtn: {

  },
  drawingContainer: {
    flex: 1,
    position: 'relative',
  },
  backgroundContainer: {
    backgroundColor: "green",
    flex: 1,
    height: "100%"
  },
  image: {
    flex: 1,
    width: '100%',
    height: '100%',
    position: 'absolute',
    top: 0,
    left: 0,
    resizeMode: 'contain',
    zIndex: 1,
  },
  canvas: {
    flex: 1,
    width: '100%',
    height: '100%',
    position: 'absolute',
    top: 0,
    left: 0,
    zIndex: 2,
    opacity: 0.5
  },
})

